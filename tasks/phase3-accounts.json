{
  "phase": 3,
  "name": "Contas e Compartilhamento",
  "description": "Implementar sistema de contas individuais e conjuntas",
  "status": "pending",
  "tasks": [
    {
      "id": "TASK-3.1",
      "feature_id": "ACC-01",
      "name": "Criar modelo Account",
      "description": "Criar struct Account com campos: id, name, type (individual/joint), group_id, user_id, created_at",
      "status": "pending",
      "files": ["internal/models/account.go"],
      "dependencies": []
    },
    {
      "id": "TASK-3.2",
      "feature_id": "ACC-04",
      "name": "Criar modelo AccountSplit",
      "description": "Criar struct AccountSplit para divisão percentual entre membros",
      "status": "pending",
      "files": ["internal/models/account_split.go"],
      "dependencies": ["TASK-3.1"]
    },
    {
      "id": "TASK-3.3",
      "feature_id": "ACC-01",
      "name": "Criar conta individual no registro",
      "description": "Criar conta individual automaticamente quando usuário se registra",
      "status": "pending",
      "files": ["internal/handlers/auth.go"],
      "dependencies": ["TASK-3.1"]
    },
    {
      "id": "TASK-3.4",
      "feature_id": "ACC-02",
      "name": "Implementar CRUD de contas conjuntas",
      "description": "Handlers para criar, listar, editar e excluir contas conjuntas",
      "status": "pending",
      "files": ["internal/handlers/account.go"],
      "dependencies": ["TASK-3.1"]
    },
    {
      "id": "TASK-3.5",
      "feature_id": "ACC-04",
      "name": "Implementar configuração de divisão",
      "description": "Handler PUT /accounts/:id/splits para definir percentuais",
      "status": "pending",
      "files": ["internal/handlers/account.go"],
      "dependencies": ["TASK-3.2", "TASK-3.4"]
    },
    {
      "id": "TASK-3.6",
      "feature_id": "ACC-03",
      "name": "Atualizar modelo Income",
      "description": "Adicionar campo account_id ao modelo Income",
      "status": "pending",
      "files": ["internal/models/income.go"],
      "dependencies": ["TASK-3.1"]
    },
    {
      "id": "TASK-3.7",
      "feature_id": "ACC-03",
      "name": "Atualizar modelo Expense",
      "description": "Adicionar campo account_id ao modelo Expense",
      "status": "pending",
      "files": ["internal/models/expense.go"],
      "dependencies": ["TASK-3.1"]
    },
    {
      "id": "TASK-3.8",
      "feature_id": "ACC-03",
      "name": "Atualizar modelo CreditCard",
      "description": "Adicionar campo account_id ao modelo CreditCard",
      "status": "pending",
      "files": ["internal/models/credit_card.go"],
      "dependencies": ["TASK-3.1"]
    },
    {
      "id": "TASK-3.9",
      "feature_id": "ACC-03",
      "name": "Atualizar modelo Bill",
      "description": "Adicionar campo account_id ao modelo Bill",
      "status": "pending",
      "files": ["internal/models/bill.go"],
      "dependencies": ["TASK-3.1"]
    },
    {
      "id": "TASK-3.10",
      "feature_id": "ACC-03",
      "name": "Atualizar handlers de transações",
      "description": "Modificar handlers de income, expense, etc. para incluir seleção de conta",
      "status": "pending",
      "files": ["internal/handlers/income.go", "internal/handlers/expense.go", "internal/handlers/credit_card.go"],
      "dependencies": ["TASK-3.6", "TASK-3.7", "TASK-3.8", "TASK-3.9"]
    },
    {
      "id": "TASK-3.11",
      "feature_id": "ACC-05",
      "name": "Implementar cálculo de saldo por conta",
      "description": "Service para calcular saldo de cada conta",
      "status": "pending",
      "files": ["internal/services/account.go"],
      "dependencies": ["TASK-3.10"]
    },
    {
      "id": "TASK-3.12",
      "feature_id": "ACC-02",
      "name": "Criar templates de contas",
      "description": "Templates HTML para gerenciar contas",
      "status": "pending",
      "files": ["templates/accounts/list.html", "templates/accounts/create.html", "templates/accounts/edit.html"],
      "dependencies": ["TASK-3.4"]
    },
    {
      "id": "TASK-3.13",
      "feature_id": "ACC-03",
      "name": "Atualizar templates de transações",
      "description": "Adicionar dropdown de seleção de conta nos formulários existentes",
      "status": "pending",
      "files": ["templates/income/*.html", "templates/expense/*.html"],
      "dependencies": ["TASK-3.10"]
    },
    {
      "id": "TASK-3.14",
      "feature_id": "ACC-01",
      "name": "Migração de banco de dados",
      "description": "Atualizar AutoMigrate e adicionar account_id nas tabelas existentes",
      "status": "pending",
      "files": ["internal/database/database.go"],
      "dependencies": ["TASK-3.1", "TASK-3.2"]
    }
  ]
}
